<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SiteCraft Image Resizer</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: "Poppins", sans-serif;
  background:#0a0a0a; color:#fff;
  display:flex; justify-content:center; align-items:center;
  height:100vh; margin:0; padding:15px;
}
.container {
  width:100%; max-width:430px; background:#111;
  padding:22px; border-radius:18px; text-align:center;
  box-shadow:0 0 25px rgba(0,0,0,0.7);
}
.upload-area {
  border:2px dashed #333; padding:35px; border-radius:12px;
  background:#0f0f0f; cursor:pointer; transition:0.3s;
  margin-top:10px; font-weight:600;
}
.upload-area:hover { border-color:#555; }

.row {
  display:flex; gap:8px; justify-content:center;
  flex-wrap:wrap; margin-top:15px;
}
.preset-btn {
  background:#222; padding:8px 14px; border-radius:8px;
  border:1px solid #444; color:#fff; font-size:13px;
  cursor:pointer; font-weight:700; transition:0.3s;
}
.preset-btn:hover { background:#7b2ff7; border-color:#7b2ff7; }

.custom-input {
  width:120px; padding:9px; border-radius:8px;
  border:none; font-weight:700; text-align:center;
  font-size:14px;
}
.resize-btn {
  width:100%; padding:12px; margin-top:18px;
  background:#7b2ff7; border:none; border-radius:10px;
  color:#fff; font-size:16px; font-weight:700;
  cursor:pointer; transition:0.3s;
}
.resize-btn:hover { background:#5f23c7; }

canvas {
  width:100%; margin-top:15px;
  border-radius:12px; display:none;
  box-shadow:0 2px 15px rgba(0,0,0,0.5);
}

/* Success Popup */
#successPopup {
  position: fixed;
  top: -80px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 184, 148, 0.15);
  backdrop-filter: blur(12px);
  padding: 14px 22px;
  border-radius: 14px;
  border: 1px solid rgba(0, 184, 148, 0.4);
  font-size: 15px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: 0.5s ease;
  z-index: 999;
  min-width: 280px;
  justify-content: space-between;
}
#successPopup.show { top: 25px; }

.success-text {
  display: flex;
  align-items: center;
  gap: 10px;
}
.success-icon {
  background:#00b894;
  padding:6px 10px;
  border-radius:50%;
}
.close-btn {
  background:none; border:none;
  color:#00b894; font-size:18px;
  cursor:pointer; font-weight:700;
}

#downloadBtn {
  display:none; width:100%; padding:12px;
  margin-top:15px; background:#00b894;
  border:none; border-radius:10px;
  color:#fff; font-weight:700;
  cursor:pointer; font-size:16px;
}
#downloadBtn:hover { background:#009f7a; }
</style>
</head>

<body>

<!-- Success Popup -->
<div id="successPopup">
  <div class="success-text">
    <div class="success-icon">âœ”</div>
    <span>Image resized successfully!</span>
  </div>
  <button class="close-btn" onclick="hidePopup()">Ã—</button>
</div>

<div class="container">
  <h2>âš¡ SiteCraft Image Resizer</h2>

  <div class="upload-area" id="uploadArea">
    Drag & Drop Image Here<br>or Tap to Choose
  </div>
  <input type="file" id="fileInput" accept="image/*" hidden>

  <div class="row">
    <button class="preset-btn" onclick="setPreset()">1280Ã—720 (Default Size)</button>
  </div>

  <div class="row">
    <input type="number" id="width" class="custom-input" placeholder="Width">
    <input type="number" id="height" class="custom-input" placeholder="Height">
  </div>

  <button class="resize-btn" onclick="resizeImage()">Resize Image</button>

  <canvas id="canvas"></canvas>

  <button id="downloadBtn" onclick="downloadImage()">Download Resized Image</button>
</div>

<script>
let img = new Image();
let canvas = document.getElementById("canvas");
let ctx = canvas.getContext("2d");
let fileInput = document.getElementById("fileInput");
let uploadArea = document.getElementById("uploadArea");
let downloadBtn = document.getElementById("downloadBtn");

/* ðŸ” Persistent Download Counter */
let downloadCount = localStorage.getItem("sitecraftDownloadCount")
  ? parseInt(localStorage.getItem("sitecraftDownloadCount"))
  : 0;

/* Upload click */
uploadArea.onclick = () => fileInput.click();

/* File select */
fileInput.onchange = e => {
  let file = e.target.files[0];
  if(!file) return;
  img.src = URL.createObjectURL(file);
  img.onload = previewImage;
};

/* Drag & Drop */
uploadArea.addEventListener("dragover", e => {
  e.preventDefault();
  uploadArea.style.borderColor="#7b2ff7";
});
uploadArea.addEventListener("drop", e => {
  e.preventDefault();
  uploadArea.style.borderColor="#333";
  let file = e.dataTransfer.files[0];
  if(!file) return;
  img.src = URL.createObjectURL(file);
  img.onload = previewImage;
});

/* Preview */
function previewImage(){
  canvas.style.display="block";
  canvas.width = img.width;
  canvas.height = img.height;
  ctx.drawImage(img,0,0);
  downloadBtn.style.display="none";
}

/* Preset */
function setPreset(){
  width.value = 1280;
  height.value = 720;
}

/* Resize */
function resizeImage(){
  let w = width.value;
  let h = height.value;

  if(!w || !h){
    alert("Enter width and height!");
    return;
  }

  canvas.width = w;
  canvas.height = h;
  ctx.drawImage(img,0,0,w,h);

  downloadBtn.style.display="block";
  showPopup();
}

/* Download with auto name */
function downloadImage(){
  downloadCount++;
  localStorage.setItem("sitecraftDownloadCount", downloadCount);

  let a = document.createElement("a");
  a.download = `SiteCraft-${downloadCount}.png`;
  a.href = canvas.toDataURL("image/png", 1.0);
  a.click();
}

/* Popup */
function showPopup(){
  successPopup.classList.add("show");
  setTimeout(hidePopup, 3000);
}
function hidePopup(){
  successPopup.classList.remove("show");
}
</script>

</body>
</html>
